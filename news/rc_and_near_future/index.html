<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MapDB 3 Release Candidate and near future &mdash; MapDB</title>
    
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="MapDB" href="../../" />
  
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

<!-- google analytics-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42074659-1', 'auto');
  ga('send', 'pageview');

</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="MapDB Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="../../">Home</a></li>
    <li><a href="../../doc/quick-start/">Quick start</a></li>
    <li><a href="../../doc/">Docs</a></li>
    <li><a href="../../blog/">Blog</a></li>
      <li><a href="../../support/">Support</a></li>

      <li><a href="https://github.com/jankotek/mapdb">Github</a></li>
  </ul>
  <div>
    <a href="../../">
      <img src="../../_static/logo.png" alt="MapDB" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../">Home</a>&nbsp;|</li>
 
      </ul>
    </div>
<div class="sphinxsidebar" role="navigation" aria-label="main navigation">
    <div class="sphinxsidebarwrapper">
  <h3><a href="../../">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MapDB 3 Release Candidate and near future</a><ul>
<li><a class="reference internal" href="#mapdb-3-1">MapDB 3.1</a></li>
<li><a class="reference internal" href="#mapdb-3-2">MapDB 3.2</a></li>
<li><a class="reference internal" href="#external-projects">External projects</a></li>
<li><a class="reference internal" href="#long-term-future">Long term future</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="sitemap">
    <h3>Site Map</h3>
    <ul>
        <li><a href="/support/">Support</a></li>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="/success/">Who is using MapDB</a></li>
        <li><a href="/benchmarks/">Benchmarks</a></li>
        <li><a href="/changelog/">Changelog</a></li>
        <li><a href="/credits/">Credits</a></li>
        <!--<li><a href="/careers/">Careers</a></li>-->

        <li><a href="/doc/">Documentation</a><ul>
            <li><a href="/doc/intro/">Intro</a></li>
            <li><a href="/doc/quick-start/">Quick start</a></li>
            <li><a href="/doc/db/">DB and DBMaker</a></li>
            <li><a href="/doc/htreemap/">HTreeMap</a></li>
            <li><a href="/doc/btreemap/">BTreeMap</a></li>
            <li><a href="/doc/sortedtablemap/">Sorted Table Map</a></li>
        </ul></li>
        <li><a href="/dokka/latest/mapdb/org.mapdb/">Dokka</a></li>
        <li><a href="/javadoc/latest/mapdb">Javadoc</a></li>
    </ul>

    <h3>Links</h3>
    <ul>
        <li><a href="https://www.github.com/jankotek/mapdb/">Github</a>
        <li><a href="https://www.github.com/jankotek/mapdb/issues/">Issue tracker</a>
        <li><a href="https://groups.google.com/forum/#!forum/mapdb">Mail list</a></li>
        <li><a href="https://www.reddit.com/r/mapdb">Reddit forum</a></li>
        <li><a href="https://gitter.im/jankotek/mapdb">Gitter chat</a></li>
    </ul>
</div>
    </div>
</div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mapdb-3-release-candidate-and-near-future">
<h1>MapDB 3 Release Candidate and near future<a class="headerlink" href="#mapdb-3-release-candidate-and-near-future" title="Permalink to this headline">¶</a></h1>
<p>MapDB 3.0 Release Candidate 1 <a class="reference external" href="/changelog">is out</a>. In about two weeks it will become stable release.
Right now the priority is to fix bugs and improve documentation.
Now lets talk about near future of MapDB.</p>
<div class="section" id="mapdb-3-1">
<h2>MapDB 3.1<a class="headerlink" href="#mapdb-3-1" title="Permalink to this headline">¶</a></h2>
<p>There is <a class="reference external" href="https://github.com/jankotek/mapdb/issues?q=is%3Aissue+is%3Aopen+label%3A3.1">a list of issues on Github</a> targeted for 3.1 release.</p>
<p>Current 3.0 release is missing some important features from 2.0 and 1.0 branches.
Most of them are already designed and half implemented, but needs to be merged into stable version.
3.1 release will add all features from older version. Most notably:</p>
<ul class="simple">
<li>Instance cache</li>
<li>Asynchronous writes</li>
<li>Compaction with transactions enabled</li>
<li>Store based on append-only log files with compaction</li>
<li>Concurrent transactions with MVCC and isolation</li>
</ul>
<p>MapDB can be faster, 3.1 will add many optimizations including <code class="docutils literal"><span class="pre">sun.misc.Unsafe</span></code> memory access.</p>
<p>Finally I want to  crack parallelism. That was main reason for switching to Kotlin and for using external libraries.
Most background operations in 3.1 will be executed
in parallel by multiple threads. That includes:</p>
<ul class="simple">
<li>Async write file dump</li>
<li>Transaction conflict resolution</li>
<li>Compaction on <code class="docutils literal"><span class="pre">StoreDirect</span></code> and <code class="docutils literal"><span class="pre">StoreWAL</span></code>, it will also allow reads and writes while compaction is in progress</li>
<li>Compaction on append-only log files inspired by RocksDB</li>
</ul>
</div>
<div class="section" id="mapdb-3-2">
<h2>MapDB 3.2<a class="headerlink" href="#mapdb-3-2" title="Permalink to this headline">¶</a></h2>
<p>This release will expand number of supported collections. I want deeper integration with Eclipse Collections.
MapDB will implement some of its interfaces such as <code class="docutils literal"><span class="pre">MultiMap</span></code>.</p>
<p>This release will add full support for Java8 Streams including Fork/Join framework and Parallel Collections.
Even in current version it is faster to iterate over Map entries with <code class="docutils literal"><span class="pre">forEach</span></code> rather then with an Iterator in for-loop.
This version will take full advantage of functional programming and optimizations it offers.</p>
<p>MapDB 3.2 will come with support for queues. Rather then providing several separate implementations,
there will be <code class="docutils literal"><span class="pre">QueueMaker</span></code> to configure various options.</p>
<p><code class="docutils literal"><span class="pre">BTreeMap</span></code> and <code class="docutils literal"><span class="pre">SortedTableMap</span></code> will get better streaming support. It will be possible to store modifications
in separate map and latter merge them into main Map in an efficient way.</p>
<p>Finally 3.2 will add compressed bitmaps inspired by <a class="reference external" href="http://roaringbitmap.org/">Roaring bitmaps</a>.</p>
</div>
<div class="section" id="external-projects">
<h2>External projects<a class="headerlink" href="#external-projects" title="Permalink to this headline">¶</a></h2>
<p>Most important side project is <cite>Elsa serialization &lt;https://github.com/jankotek/elsa&gt;</cite>,
it is former <code class="docutils literal"><span class="pre">SerializerBase</span></code> and <code class="docutils literal"><span class="pre">SerializerPOJO</span></code> which were refactored from MapDB into separate project.
There is no stable release yet, so priority for now is to make it stable. Also we need to
improve documentation, and write some benchmarks to compare it with competitors (Kryo, Java Serialization...).</p>
<p>Another external project is <a class="reference external" href="https://github.com/jankotek/mapdb-jcache">MapDB JCache implementation</a>. Right now
it works but is not documented and does not have stable release. So priority is to fix that.</p>
<p>I really like <a class="reference external" href="https://www.eclipse.org/collections/">Eclipse Collections</a> (former Goldman Sachs Collections).
I will contribute many changes in there (Unsafe access, mmaped files...). Also I like their Parallel Collections,
MapDB might implemented in future.</p>
<p>Next in line is off-heap Hazelcast. This project was in limbo for a long time but has good potential.</p>
</div>
<div class="section" id="long-term-future">
<h2>Long term future<a class="headerlink" href="#long-term-future" title="Permalink to this headline">¶</a></h2>
<p>You might be familiar with Data Pump and External Merge Sort in MapDB 1.0.
It sorts dataset which does not fit into memory, by streaming and slicing it into smaller sets.</p>
<p>I believe Spark Datasets provides better and more universal semantic to do the same.
Spark splits data into smaller chunks on multiple machines, but the same approach can be used on single machine with
disk swap files.</p>
<p>So in future MapDB will implement API similar to Spark Datasets. It will allow MapDB to manipulate data sets larger than memory on single machine.
Not just for sorting, but also for graphs, machine learning, matrix multiplications and so on. Stay tuned, there will be separate blog post about this.</p>
</div>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  Previous: 
  <a href="../../changelog/#release-candidate-1-released">
    
    3.0 Release Candidate 1 released
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
</div>

  
  
    <div class="section">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'mapdb';
        var disqus_identifier = '/news/rc_and_near_future/';
        var disqus_title = 'MapDB 3 Release Candidate and near future';
        var disqus_url = 'http://www.mapdb.org/news/rc_and_near_future';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  
  </div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../">Home</a>&nbsp;|</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, jan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.3.
    </div>
  </body>
</html>