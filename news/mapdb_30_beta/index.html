<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MapDB enters beta, storage format and API freeze &mdash; MapDB</title>
    
    <link rel="stylesheet" href="../../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="MapDB" href="../../" />
  
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

<!-- google analytics-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42074659-1', 'auto');
  ga('send', 'pageview');

</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="MapDB Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="../../">Home</a></li>
    <li><a href="../../doc/quick-start/">Quick start</a></li>
    <li><a href="../../doc/">Docs</a></li>
    <li><a href="../../blog/">Blog</a></li>
      <li><a href="../../support/">Support</a></li>

      <li><a href="https://github.com/jankotek/mapdb">Github</a></li>
  </ul>
  <div>
    <a href="../../">
      <img src="../../_static/logo.png" alt="MapDB" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../">Home</a>&nbsp;|</li>
 
      </ul>
    </div>
<div class="sphinxsidebar" role="navigation" aria-label="main navigation">
    <div class="sphinxsidebarwrapper">
  <h3><a href="../../">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MapDB enters beta, storage format and API freeze</a><ul>
<li><a class="reference internal" href="#why-new-branch">Why new branch</a></li>
<li><a class="reference internal" href="#what-is-new-in-3-0">What is new in 3.0</a><ul>
<li><a class="reference internal" href="#binary-acceleration">Binary acceleration</a></li>
<li><a class="reference internal" href="#data-pump-improvements">Data pump improvements</a></li>
<li><a class="reference internal" href="#btreemap">BTreeMap</a></li>
<li><a class="reference internal" href="#sortedtablemap">SortedTableMap</a></li>
<li><a class="reference internal" href="#index-tree-list">Index Tree List</a></li>
</ul>
</li>
<li><a class="reference internal" href="#near-future">Near future</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="sitemap">
    <h3>Site Map</h3>
    <ul>
        <li><a href="/support/">Support</a><ul>
            <li><a href="/support/#free-discovery-call">Free discovery call</a></li>
            <li><a href="/support/#consulting-services">Consulting services</a></li>
        </ul></li>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="/success/">Who is using MapDB</a></li>
        <li><a href="/benchmarks/">Benchmarks</a></li>
        <li><a href="/changelog/">Changelog</a></li>
        <li><a href="/credits/">Credits</a></li>
        <!--<li><a href="/careers/">Careers</a></li>-->

        <li><a href="/doc/">Documentation</a><ul>
            <li><a href="/doc/intro/">Intro</a></li>
            <li><a href="/doc/quick-start/">Quick start</a></li>
            <li><a href="/doc/db/">DB and DBMaker</a></li>
            <li><a href="/doc/htreemap/">HTreeMap</a></li>
            <li><a href="/doc/btreemap/">BTreeMap</a></li>
            <li><a href="/doc/sortedtablemap/">Sorted Table Map</a></li>
        </ul></li>
        <li><a href="/dokka/latest/mapdb/org.mapdb/">Javadoc</a></li>
    </ul>

    <h3>Links</h3>
    <ul>
        <li><a href="https://www.github.com/jankotek/mapdb/">Github</a>
        <li><a href="https://www.github.com/jankotek/mapdb/issues/">Issue tracker</a>
        <li><a href="https://groups.google.com/forum/#!forum/mapdb">Mail list</a></li>
        <li><a href="https://www.reddit.com/r/mapdb">Reddit forum</a></li>
        <li><a href="https://gitter.im/jankotek/mapdb">Gitter chat</a></li>
    </ul>
</div>
    </div>
</div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mapdb-enters-beta-storage-format-and-api-freeze">
<h1>MapDB enters beta, storage format and API freeze<a class="headerlink" href="#mapdb-enters-beta-storage-format-and-api-freeze" title="Permalink to this headline">¶</a></h1>
<p>After almost 6 months of development, 3.0 branch enters beta stage.
API and storage are now frozen and no breaking change should happend,
unless its required for bugfix. Stable version will follow in about
a month, once remaining bugs are squashed and documentation is in
reasonable shape.</p>
<div class="section" id="why-new-branch">
<h2>Why new branch<a class="headerlink" href="#why-new-branch" title="Permalink to this headline">¶</a></h2>
<p>I already described <a class="reference external" href="/news/mapdb3/">my reasons for dropping 2.0 branch</a>.
I did that to speedup development and become more productive.
Old version had too limited feature set.
And finally I really miss old days with JDBM3, when I would introduce
new features every day, without adding new bugs.</p>
<p>MapDB 3.0 is now mostly written in Kotlin; very expressive language with
excellent Java compatibility and low overhead. MapDB now also depends on other libraries.</p>
</div>
<div class="section" id="what-is-new-in-3-0">
<h2>What is new in 3.0<a class="headerlink" href="#what-is-new-in-3-0" title="Permalink to this headline">¶</a></h2>
<p>New MapDB 3.0 release does not have all features from 1.0 and 2.0.
Most notably it is missing asynchronous writes, instance cache
and concurrent transactions (TxMaker). In many benchmarks it
is slower than old versions.
Missing features will be reintroduced in 3.1 release.</p>
<p>Also some default settings
had changed (transactions are disabled by default). There is a short
document if you are <a class="reference external" href="/news/migrating_to_30/">migrating from older branch</a>.</p>
<p>Outside internal changes, there are some new features:</p>
<div class="section" id="binary-acceleration">
<h3>Binary acceleration<a class="headerlink" href="#binary-acceleration" title="Permalink to this headline">¶</a></h3>
<p>Older versions required records (such as tree node) to be fully deserialized
in order to perform any operation.
Now some operations (most notably binary search) are done on raw binary data without deserialization.
It shows up to 3x better performance for <code class="docutils literal"><span class="pre">BTreeMap.get()</span></code> operation.
Currently its fully implemented only in <code class="docutils literal"><span class="pre">Serializer.INTEGER</span></code>, other datatypes will follow soon</p>
</div>
<div class="section" id="data-pump-improvements">
<h3>Data pump improvements<a class="headerlink" href="#data-pump-improvements" title="Permalink to this headline">¶</a></h3>
<p>BTreeMap Data Pump now takes data in naturaly sorted order (no reverse sort is needed).
Also it doesn not require source to be an iterator, but takes data from Sink.</p>
</div>
<div class="section" id="btreemap">
<h3>BTreeMap<a class="headerlink" href="#btreemap" title="Permalink to this headline">¶</a></h3>
<p>BTreeMap descending iterator is now faster. It keeps stack of BTree Directory nodes
and jumps backward without performing new tree search for each Leaf Node.</p>
</div>
<div class="section" id="sortedtablemap">
<h3>SortedTableMap<a class="headerlink" href="#sortedtablemap" title="Permalink to this headline">¶</a></h3>
<p>Is SortedMap inspired by Sorted String Tables from Cassandra. It is about 5 faster compared
to BTreeMap. Current version is read-only, writeable version will be added in near future.</p>
</div>
<div class="section" id="index-tree-list">
<h3>Index Tree List<a class="headerlink" href="#index-tree-list" title="Permalink to this headline">¶</a></h3>
<p>HTreeMap uses sparse array like data structure backed by very efficient tree.
This code was extracted from HTreeMap into separate class and now provides IndexTreeList, an
<code class="docutils literal"><span class="pre">java.util.List</span></code> collection which provides sparse indexed List.</p>
</div>
</div>
<div class="section" id="near-future">
<h2>Near future<a class="headerlink" href="#near-future" title="Permalink to this headline">¶</a></h2>
<p>There will be a few betas before stable release. I expect new beta release every week after major bugfix.</p>
<p>MapDB 3.0 will graduate into stable version in about 4 weeks.
Biggest obstacle are not bugs, current version has many unit tests and is quite stable, but documentation.
And MapDB now has secondary projects (mapdb-jcache, Elsa serialization) and those
need bit more polishing before MapDB becomes stable.</p>
<p>After stable 3.0 there will be new stable release every month. I have many plans.</p>
</div>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  Previous: 
  <a href="../../changelog/#beta1-released">
    
    3.0 beta1 released
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
</div>

  
  
    <div class="section">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'mapdb';
        var disqus_identifier = '/news/mapdb_30_beta/';
        var disqus_title = 'MapDB enters beta, storage format and API freeze';
        var disqus_url = 'http://www.mapdb.org/news/mapdb_30_beta';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  
  </div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li><a href="../../">Home</a>&nbsp;|</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, jan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>