<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Operations &mdash; MapDB</title>
    
    <link rel="stylesheet" href="../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="MapDB" href="../index.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css'>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

<!-- google analytics-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42074659-1', 'auto');
  ga('send', 'pageview');

</script>

  </head>
  <body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="getting-started.html">Intro</a></li>
    <li><a href="index.html">Docs</a></li>
    <li><a href="https://github.com/jankotek/mapdb">Github</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/logo.png" alt="MapDB" />
    </a>
  </div>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Home</a>&nbsp;|</li>
        <li><a href="../contents.html">Documentation</a> &raquo;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Operations</a><ul>
<li><a class="reference internal" href="#backups">Backups</a><ul>
<li><a class="reference internal" href="#incremental-backups">Incremental backups</a></li>
<li><a class="reference internal" href="#backup-under-commit-lock">Backup under commit lock</a></li>
<li><a class="reference internal" href="#backup-with-snapshots">Backup with snapshots</a></li>
<li><a class="reference internal" href="#full-export-into-text-file">Full export into text file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#monitoring">Monitoring</a><ul>
<li><a class="reference internal" href="#jmx">JMX</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compaction">Compaction</a><ul>
<li><a class="reference internal" href="#record-fragmentation-and-average-free-record-size">Record fragmentation and average free record size</a></li>
<li><a class="reference internal" href="#btree-compaction">BTree compaction</a></li>
<li><a class="reference internal" href="#append-only-file-background-compaction">Append Only File background compaction</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/doc/operations.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="operations">
<h1>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h1>
<p>This is chapter for DBA and DevOps. It describes howto run MapDB in long period of time,
while keeping data safe and performance good and consistent.</p>
<p>MapDB is just database engine, so basic library does not include tools usually bundled with full
database systems. But there are external libraries which will be also discussed here.
With some tuning MapDB is very capable of running in continuous operation.</p>
<div class="section" id="backups">
<h2>Backups<a class="headerlink" href="#backups" title="Permalink to this headline">¶</a></h2>
<div class="section" id="incremental-backups">
<h3>Incremental backups<a class="headerlink" href="#incremental-backups" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="backup-under-commit-lock">
<h3>Backup under commit lock<a class="headerlink" href="#backup-under-commit-lock" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="backup-with-snapshots">
<h3>Backup with snapshots<a class="headerlink" href="#backup-with-snapshots" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>data corruption in HTreeMap from incomplete updates</li>
<li>lock entire HTreeMap</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="full-export-into-text-file">
<h3>Full export into text file<a class="headerlink" href="#full-export-into-text-file" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="monitoring">
<h2>Monitoring<a class="headerlink" href="#monitoring" title="Permalink to this headline">¶</a></h2>
<div class="section" id="jmx">
<h3>JMX<a class="headerlink" href="#jmx" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="compaction">
<h2>Compaction<a class="headerlink" href="#compaction" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>compaction in memory versus temporary files</li>
</ul>
<div class="section" id="record-fragmentation-and-average-free-record-size">
<h3>Record fragmentation and average free record size<a class="headerlink" href="#record-fragmentation-and-average-free-record-size" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="btree-compaction">
<h3>BTree compaction<a class="headerlink" href="#btree-compaction" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="append-only-file-background-compaction">
<h3>Append Only File background compaction<a class="headerlink" href="#append-only-file-background-compaction" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Home</a>&nbsp;|</li>
        <li><a href="../contents.html">Documentation</a> &raquo;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Jan Kotek.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>